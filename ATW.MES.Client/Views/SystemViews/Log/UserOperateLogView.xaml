<UserControl
    x:Class="ATW.MES.Client.Views.SystemViews.Log.UserOperateLogView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:UCUI="clr-namespace:ATW.MES.Client.Common.UI.UCUI"
    xmlns:b="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:hc="https://handyorg.github.io/handycontrol"
    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DesignHeight="980"
    d:DesignWidth="1630"
    Background="White"
    mc:Ignorable="d">
    <Grid x:Name="gd_Main">

        <!--#region 界面分割-->

        <Grid.RowDefinitions>
            <RowDefinition Height="0.5*" />
            <RowDefinition Height="8.5*" />
            <RowDefinition Height="0.6*" />
        </Grid.RowDefinitions>

        <!--#endregion-->

        <!--#region 边框-->

        <Border
            BorderBrush="#D8DDE1"
            BorderThickness="1.5"
            CornerRadius="5" />
        <Border
            Grid.Row="1"
            Margin="0,5,0,0"
            BorderBrush="#D8DDE1"
            BorderThickness="1.5"
            CornerRadius="5" />

        <!--#endregion-->

        <!--#region 操作项-->

        <Grid>

            <!--#region 查询-->

            <TextBlock
                Margin="33,17,0,0"
                HorizontalAlignment="Left"
                VerticalAlignment="Top"
                FontSize="12"
                Text="查询条件："
                TextWrapping="Wrap" />
            <hc:ComboBox
                Name="cb_SearchType"
                Width="128"
                Margin="93,12,0,0"
                HorizontalAlignment="Left"
                VerticalAlignment="Top"
                HorizontalContentAlignment="Center"
                hc:InfoElement.Placeholder="*必选项"
                FontSize="11"
                Text="{Binding SearchType}">
                <ComboBoxItem Content="全部日志" />
                <ComboBoxItem Content="用户名称" />
                <ComboBoxItem Content="页面名称" />
                <ComboBoxItem Content="客户端IP" />
                <ComboBoxItem Content="结果" />
            </hc:ComboBox>

            <TextBox
                Width="200"
                Margin="226,12,0,0"
                HorizontalAlignment="Left"
                VerticalAlignment="Top"
                FontSize="11"
                Text="{Binding Search}"
                TextWrapping="Wrap" />
            <TextBlock
                Margin="450,17,0,0"
                HorizontalAlignment="Left"
                VerticalAlignment="Top"
                FontSize="12"
                Text="开始日期："
                TextWrapping="Wrap" />
            <hc:DatePicker
                Width="110"
                Margin="515,0,0,0"
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                SelectedDate="{Binding StartDate}" />
            <TextBlock
                Margin="634,0,0,0"
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                FontSize="12"
                Text="结束日期："
                TextWrapping="Wrap" />
            <hc:DatePicker
                Width="110"
                Margin="699,0,0,0"
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                SelectedDate="{Binding EndDate}" />

            <Button
                Width="80"
                Margin="845,0,0,0"
                HorizontalAlignment="Left"
                hc:IconElement.Geometry="{StaticResource SearchGeometry}"
                Command="{Binding GetCommand}"
                Content="查询"
                FontSize="13"
                Style="{StaticResource ButtonPrimary}" />


            <!--#endregion-->

            <!--#region 数据修改栏-->



            <!--#endregion-->

        </Grid>

        <!--#endregion-->

        <!--#region DGV-->

        <Grid Grid.Row="1" Margin="0,5,0,0">

            <DataGrid
                x:Name="dg_User"
                AutoGenerateColumns="False"
                Background="White"
                ColumnHeaderStyle="{StaticResource ColumnHeaderStyle}"
                FontSize="13"
                HeadersVisibility="All"
                ItemsSource="{Binding Models}"
                RowHeaderWidth="0">
                <DataGrid.InputBindings>
                    <MouseBinding
                        Command="{Binding ShowDetailCommand}"
                        CommandParameter="{Binding SelectedItem, ElementName=dg_User}"
                        Gesture="LeftDoubleClick" />
                </DataGrid.InputBindings>
                <DataGrid.Columns>
                    <DataGridTextColumn
                        Width="160"
                        Binding="{Binding CreateTime, StringFormat=\{0:yyyy-MM-dd HH:mm:ss\}}"
                        Header="时间"
                        IsReadOnly="True">
                        <DataGridTextColumn.ElementStyle>
                            <Style BasedOn="{StaticResource CenterAlignmentStyle}" TargetType="TextBlock" />
                        </DataGridTextColumn.ElementStyle>
                        <DataGridTextColumn.EditingElementStyle>
                            <Style BasedOn="{StaticResource CenterAlignmentStyle}" TargetType="TextBox" />
                        </DataGridTextColumn.EditingElementStyle>
                    </DataGridTextColumn>
                    <DataGridTextColumn
                        Width=" 80"
                        Binding="{Binding UserName}"
                        Header="用户"
                        IsReadOnly="True">
                        <DataGridTextColumn.ElementStyle>
                            <Style BasedOn="{StaticResource CenterAlignmentStyle}" TargetType="TextBlock" />
                        </DataGridTextColumn.ElementStyle>
                        <DataGridTextColumn.EditingElementStyle>
                            <Style BasedOn="{StaticResource CenterAlignmentStyle}" TargetType="TextBox" />
                        </DataGridTextColumn.EditingElementStyle>
                    </DataGridTextColumn>
                    <DataGridTextColumn
                        Width=" 80"
                        Binding="{Binding ClientIP}"
                        Header="客户端IP"
                        IsReadOnly="True">
                        <DataGridTextColumn.ElementStyle>
                            <Style BasedOn="{StaticResource CenterAlignmentStyle}" TargetType="TextBlock" />
                        </DataGridTextColumn.ElementStyle>
                        <DataGridTextColumn.EditingElementStyle>
                            <Style BasedOn="{StaticResource CenterAlignmentStyle}" TargetType="TextBox" />
                        </DataGridTextColumn.EditingElementStyle>
                    </DataGridTextColumn>
                    <DataGridTextColumn
                        Width="120"
                        Binding="{Binding PageName}"
                        Header="页面名称"
                        IsReadOnly="True">
                        <DataGridTextColumn.ElementStyle>
                            <Style BasedOn="{StaticResource CenterAlignmentStyle}" TargetType="TextBlock" />
                        </DataGridTextColumn.ElementStyle>
                        <DataGridTextColumn.EditingElementStyle>
                            <Style BasedOn="{StaticResource CenterAlignmentStyle}" TargetType="TextBox" />
                        </DataGridTextColumn.EditingElementStyle>
                    </DataGridTextColumn>
                    <DataGridTextColumn
                        Width="85"
                        Binding="{Binding OperateLogType}"
                        Header="操作类型"
                        IsReadOnly="True">
                        <DataGridTextColumn.ElementStyle>
                            <Style BasedOn="{StaticResource CenterAlignmentStyle}" TargetType="TextBlock" />
                        </DataGridTextColumn.ElementStyle>
                        <DataGridTextColumn.EditingElementStyle>
                            <Style BasedOn="{StaticResource CenterAlignmentStyle}" TargetType="TextBox" />
                        </DataGridTextColumn.EditingElementStyle>
                    </DataGridTextColumn>
                    <DataGridTextColumn
                        Width="60"
                        Binding="{Binding Result}"
                        Header="结果"
                        IsReadOnly="True">
                        <DataGridTextColumn.ElementStyle>
                            <Style BasedOn="{StaticResource CenterAlignmentStyle}" TargetType="TextBlock" />
                        </DataGridTextColumn.ElementStyle>
                        <DataGridTextColumn.EditingElementStyle>
                            <Style BasedOn="{StaticResource CenterAlignmentStyle}" TargetType="TextBox" />
                        </DataGridTextColumn.EditingElementStyle>
                    </DataGridTextColumn>
                    <DataGridTextColumn
                        Width="120"
                        Binding="{Binding Time}"
                        Header="耗时(ms)"
                        IsReadOnly="True">
                        <DataGridTextColumn.ElementStyle>
                            <Style BasedOn="{StaticResource CenterAlignmentStyle}" TargetType="TextBlock" />
                        </DataGridTextColumn.ElementStyle>
                        <DataGridTextColumn.EditingElementStyle>
                            <Style BasedOn="{StaticResource CenterAlignmentStyle}" TargetType="TextBox" />
                        </DataGridTextColumn.EditingElementStyle>
                    </DataGridTextColumn>
                    <DataGridTextColumn
                        Width="800"
                        Binding="{Binding Log}"
                        Header="记录"
                        IsReadOnly="True">
                        <DataGridTextColumn.ElementStyle>
                            <Style BasedOn="{StaticResource CenterAlignmentStyle}" TargetType="TextBlock" />
                        </DataGridTextColumn.ElementStyle>
                        <DataGridTextColumn.EditingElementStyle>
                            <Style BasedOn="{StaticResource CenterAlignmentStyle}" TargetType="TextBox" />
                        </DataGridTextColumn.EditingElementStyle>
                    </DataGridTextColumn>

                </DataGrid.Columns>
            </DataGrid>

        </Grid>

        <!--#endregion-->

        <!--#region 分页查询-->

        <Grid
            Grid.Row="2"
            Margin="0,0,30,7"
            HorizontalAlignment="Right">
            <UCUI:atw_Pagin />
        </Grid>

        <!--#endregion-->

    </Grid>
</UserControl>
